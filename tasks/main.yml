---
- name: Install build tools (Centos)
  yum:
    name:
      - devtoolset-8
    state: latest
    use_backend: yum
  when: "ansible_os_family == 'RedHat'"

- name: Enable devtoolset globally for all users
  # See https://developers.redhat.com/blog/2014/03/19/permanently-enable-a-software-collection/
  lineinfile:
    path: "/etc/profile.d/enable-devtoolset.sh"
    line: "\nsource scl_source enable devtoolset-8\n"
  when: "ansible_os_family == 'RedHat'"
  
- name: Install build tools (Debian)
  apt:
    name:
      - build-essential
    state: latest
  when: "ansible_os_family == 'Debian'"

- name: install xcode
  include_tasks:
    file: install-xcode.yml
  when: "ansible_os_family == 'Darwin'"

- name: Install visualstudio2017-workload-vctools
  win_chocolatey:
    name: visualstudio2017-workload-vctools
    state: present
    # until we get Qt 5.12
    package_params: "--add Microsoft.VisualStudio.Component.VC.Tools.14.14"
  when: "ansible_os_family == 'Windows'"

- name: Install visualstudio2017-remotetools
  win_chocolatey:
    name: visualstudio2017-remotetools
    state: present
  when: "ansible_os_family == 'Windows'"
  
  